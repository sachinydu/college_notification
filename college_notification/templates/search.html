{% extends 'base.html' %}

{% block content %}
<div style="max-width: 800px; margin: 0 auto;">
    <div class="card" style="margin-bottom: 2rem;">
        <form action="{{ url_for('search') }}" method="GET" style="display: flex; gap: 1rem;">
            <input type="text" name="q" class="form-control" placeholder="Search notices..." value="{{ query }}">
            <button type="submit" class="btn btn-primary">Search</button>
        </form>
    </div>

    {% if query %}
    <h3 style="margin-bottom: 1.5rem;">Results for "{{ query }}"</h3>

    {% if results %}
    <div class="grid">
        {% for notice in results %}
        <div class="card">
            <span style="font-size: 0.75rem; font-weight: 600; color: var(--primary); text-transform: uppercase;">
                {{ notice['category'] }}
            </span>
            <h3 style="margin: 0.5rem 0;">{{ notice['title'] }}</h3>
            <p
                style="color: var(--text-muted); margin-bottom: 1rem; display: -webkit-box; -webkit-line-clamp: 2; -webkit-box-orient: vertical; overflow: hidden;">
                {{ notice['content'] }}
            </p>
            <a href="{{ url_for('notice_detail', id=notice['id']) }}"
                style="color: var(--primary); text-decoration: none; font-weight: 500;">
                Read More &rarr;
            </a>
        </div>
        {% endfor %}
    </div>
    {% else %}
    <div class="card text-center" style="padding: 3rem;">
        <i class="fas fa-search" style="font-size: 3rem; color: var(--border); margin-bottom: 1rem;"></i>
        <p style="color: var(--text-muted);">No matches found.</p>
    </div>
    {% endif %}
    {% endif %}
</div>
{% endblock %}